{% extends 'base.html' %}
{% block content %}
{% if messages %}
    <div id="message-container">
        {% for message in messages %}
            <div class="alert alert-{{ message.tags }}">
                {{ message }}
            </div>
        {% endfor %}
    </div>
    <script>
        setTimeout(() => {
            const messageContainer = document.getElementById('message-container');
            if (messageContainer) {
                messageContainer.style.display = 'none';
            }
        }, 3000);
    </script>
{% endif %}
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card shadow">
                <div class="card-header">
                    <ul class="nav nav-tabs card-header-tabs" id="userTypeTabs" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="admin-tab" data-bs-toggle="tab" data-bs-target="#admin-form" type="button" role="tab" aria-controls="admin-form" aria-selected="true">Create Admin</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="customer-tab" data-bs-toggle="tab" data-bs-target="#customer-form" type="button" role="tab" aria-controls="customer-form" aria-selected="false">Create Customer</button>
                        </li>
                    </ul>
                </div>
                <div class="card-body">
                    <div class="tab-content" id="userTypeTabsContent">
                        <!-- Admin Form -->
                        <div class="tab-pane fade show active" id="admin-form" role="tabpanel" aria-labelledby="admin-tab">
                            <form method="POST" action="{% url 'create_admin' %}" class="form" novalidate>
                                {% csrf_token %}
                                <div class="alert alert-info mb-4">
                                    Admin users will have full access to the administrative dashboard and management features.
                                </div>
                                
                                <div class="mb-3">
                                    <label for="id_admin_phone" class="form-label">Phone Number</label>
                                    <input type="tel" name="phone_number" id="id_admin_phone" class="form-control" required>
                                    <div class="form-text">A valid phone number is required for account activation.</div>
                                </div>
                                <input type="hidden" name="role" value="0">                                
                                <div class="d-grid gap-2">
                                    <button type="submit" class="btn btn-primary">Create Admin User</button>
                                </div>
                            </form>
                        </div>
                        
                        <!-- Customer Form -->
                        <div class="tab-pane fade" id="customer-form" role="tabpanel" aria-labelledby="customer-tab">
                            <form method="POST" action="{% url 'create_customer' %}" class="form" novalidate>
                                {% csrf_token %}
                                <div class="alert alert-info mb-4">
                                    Customers will have access to customer dashboard with order and payment handling.
                                </div>
                                
                                <div class="mb-3">
                                    <label for="id_customer_phone" class="form-label">Phone Number</label>
                                    <input type="tel" name="phone_number" id="id_customer_phone" class="form-control" required>
                                    <div class="form-text">A valid phone number is required for account activation.</div>
                                </div>
                                <input type="hidden" name="role" value="1">                                
                                <div class="d-grid gap-2">
                                    <button type="submit" class="btn btn-primary">Create Customer</button>
                                </div>
                            </form>     
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %} 
