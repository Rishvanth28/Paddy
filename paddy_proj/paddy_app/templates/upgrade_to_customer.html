{% extends "admin_base.html" %}

{% block content %}
<div class="container mt-4">
  <!-- Flash Messages Section -->
  {% if messages %}
    <div class="col-md-12">
      {% for message in messages %}
        <div class="alert 
            {% if message.tags == 'success' %}alert-success
            {% elif message.tags == 'info' %}alert-info
            {% elif message.tags == 'warning' %}alert-warning
            {% elif message.tags == 'error' %}alert-danger
            {% endif %}
            alert-dismissible fade show" role="alert">
          {{ message }}
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
      {% endfor %}
    </div>
  {% endif %}

  <h2>Upgrade to Customer</h2>

  <form method="post">
    {% csrf_token %}
    <p>Are you sure you want to SWAP your account to Customer? This action may restrict certain admin privileges.</p>

    <!-- Additional Fields -->
    <div class="mb-3">
      <label for="company_name" class="form-label">Company Name</label>
      <input type="text" class="form-control" id="company_name" name="company_name" value="{{ admin.company_name }}" required>
    </div>

    <div class="mb-3">
      <label for="gst_number" class="form-label">GST Number</label>
      <input type="text" class="form-control" id="gst_number" name="gst_number" value="{{ admin.gst_number }}">
    </div>

    <div class="mb-3">
      <label for="address" class="form-label">Address</label>
      <textarea name="address" id="address" class="form-control" rows="3">{{ admin.address }}</textarea>
    </div>

    <!-- Confirmation Button -->
    <button type="submit" class="btn btn-primary">Confirm Downgrade</button>
  </form>
</div>
{% endblock %}
